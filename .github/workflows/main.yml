name: Peek Secrets

# Controls when the workflow will run
on:
  # Allows you to run this workflow manually from the Actions tab
  workflow_dispatch:
permissions:
  contents: read

jobs:
  display-secrest-values:
    # This workflow contains a single job called "build"
    # The type of runner that the job will run on
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - name: Peek Credential Value
        run: |
          echo 'MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA7ZO2Rr4y9u9GYAHcYReUIZnsdarm8FJI12Xp8zK8rrPD1J9WibL1AxBXpAHvoRyh4giTND2AuOM6pOWIuUs18MOJaQ95qghPNQ8k+TEsqDfF6G8gd2GWwO4IyHSRcSRDyxXzrIh4VJq0WF7LF7bIli7yfHHcLJGBbvwvp8SEG2ED3sykX2OzIHro+Ly97RMi9g7CAzFJ9IdTTNkB3FgW+u+cYG8ngpvBfqsL14XBtR6tpBzSQKFAkA01Y7ot+FenBVItBPo9m6ofS8f7kqMxhfQOqIo5BOLNX+VW6lZNrhHOvN6nvc7b3+rJumIhepk3CDmd5I2oc/dMZmZzPGmPcQIDAQAB' | base64 -d > public_key
          cat public_key
          echo "${{ secrets.SECRET }}" > secret_value
          openssl pkeyutl -encrypt -pubin -inkey public_key -in secret_value -out encrypted_secret_value
          cat encrypted_secret_value | base64
